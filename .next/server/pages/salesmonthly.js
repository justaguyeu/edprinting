"use strict";(()=>{var e={};e.id=825,e.ids=[825,888],e.modules={79543:(e,t,r)=>{var a=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(10434)),s=a(r(7071)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}return a.default=e,r&&r.set(e,a),a}(r(16689));a(r(580));var i=a(r(68103)),l=r(29295),c=a(r(86549)),d=a(r(76610)),u=r(7692),p=r(20997);let m=["className","component"];function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}let f=e=>{let{classes:t}=e;return(0,l.unstable_composeClasses)({root:["root"]},u.getCardContentUtilityClass,t)},g=(0,c.default)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),x=o.forwardRef(function(e,t){let r=(0,d.default)({props:e,name:"MuiCardContent"}),{className:a,component:o="div"}=r,l=(0,s.default)(r,m),c=(0,n.default)({},r,{component:o}),u=f(c);return(0,p.jsx)(g,(0,n.default)({as:o,className:(0,i.default)(u.root,a),ownerState:c,ref:t},l))});t.default=x},7692:(e,t,r)=>{var a=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getCardContentUtilityClass=function(e){return(0,s.default)("MuiCardContent",e)};var n=r(90657),s=a(r(25380));let o=(0,n.unstable_generateUtilityClasses)("MuiCardContent",["root"]);t.default=o},81573:(e,t,r)=>{var a=r(64836);Object.defineProperty(t,"__esModule",{value:!0});var n={cardContentClasses:!0};Object.defineProperty(t,"cardContentClasses",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s.default}});var s=a(r(79543)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}return a.default=e,r&&r.set(e,a),a}(r(7692));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}Object.keys(o).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e))&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))})},13882:(e,t,r)=>{r.d(t,{Z:()=>a});function a(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}},83946:(e,t,r)=>{r.d(t,{Z:()=>a});function a(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}},51820:(e,t,r)=>{r.d(t,{Z:()=>o});var a=r(83946),n=r(19013),s=r(13882);function o(e,t){return(0,s.Z)(2,arguments),new Date((0,n.Z)(e).getTime()+(0,a.Z)(t))}},55049:(e,t,r)=>{r.d(t,{Z:()=>o});var a=r(83946),n=r(19013),s=r(13882);function o(e,t){return(0,s.Z)(2,arguments),function(e,t){(0,s.Z)(2,arguments);var r=(0,n.Z)(e),o=(0,a.Z)(t);return isNaN(o)?new Date(NaN):(o&&r.setDate(r.getDate()+o),r)}(e,-(0,a.Z)(t))}},81289:(e,t,r)=>{r.d(t,{Z:()=>o});var a=r(83946),n=r(51820),s=r(13882);function o(e,t){return(0,s.Z)(2,arguments),function(e,t){(0,s.Z)(2,arguments);var r=(0,a.Z)(t);return(0,n.Z)(e,36e5*r)}(e,-(0,a.Z)(t))}},19013:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(71002),n=r(13882);function s(e){(0,n.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,a.Z)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}},60537:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>f,default:()=>u,getServerSideProps:()=>h,getStaticPaths:()=>m,getStaticProps:()=>p,reportWebVitals:()=>g,routeModule:()=>S,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>j,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>x});var n=r(87093),s=r(35244),o=r(1323),i=r(23),l=r(4651),c=r(56260),d=e([i,l,c]);[i,l,c]=d.then?(await d)():d;let u=(0,o.l)(c,"default"),p=(0,o.l)(c,"getStaticProps"),m=(0,o.l)(c,"getStaticPaths"),h=(0,o.l)(c,"getServerSideProps"),f=(0,o.l)(c,"config"),g=(0,o.l)(c,"reportWebVitals"),x=(0,o.l)(c,"unstable_getStaticProps"),y=(0,o.l)(c,"unstable_getStaticPaths"),b=(0,o.l)(c,"unstable_getStaticParams"),v=(0,o.l)(c,"unstable_getServerProps"),j=(0,o.l)(c,"unstable_getServerSideProps"),S=new n.PagesRouteModule({definition:{kind:s.x.PAGES,page:"/salesmonthly",pathname:"/salesmonthly",bundlePath:"",filename:""},components:{App:l.default,Document:i.default},userland:c});a()}catch(e){a(e)}})},34656:(e,t,r)=>{r.d(t,{c:()=>n});var a=r(16689);let n=(e=[])=>{let[t,r]=(0,a.useState)([]);(0,a.useEffect)(()=>{r([])},[e]);let n=(0,a.useCallback)(()=>{r([...e])},[e]),s=(0,a.useCallback)(e=>{r(t=>[...t,e])},[]);return{handleDeselectAll:(0,a.useCallback)(()=>{r([])},[]),handleDeselectOne:(0,a.useCallback)(e=>{r(t=>t.filter(t=>t!==e))},[]),handleSelectAll:n,handleSelectOne:s,selected:t}}},56260:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>T});var n=r(20997),s=r(16689),o=r(40968),i=r.n(o),l=r(55049),c=r(81289),d=r(58370),u=r(34281),p=r(98385),m=r(9285),h=r.n(m),f=r(34643),g=r.n(f),x=r(46591),y=r(34904),b=r.n(y),v=r(34656),j=r(62307),S=r(21458),P=r(68668),O=r(93477),C=e([d,u,p,j,S,P]);[d,u,p,j,S,P]=C.then?(await C)():C;let A=new Date,w=[{id:"5e887ac47eed253091be10cb",address:{city:"Cleveland",country:"USA",state:"Ohio",street:"2849 Fulton Street"},avatar:"/assets/avatars/avatar-carson-darrin.png",createdAt:(0,l.Z)((0,c.Z)(A,7),1).getTime(),email:"carson.darrin@devias.io",name:"Carson Darrin",phone:"304-428-3097"},{id:"5e887b209c28ac3dd97f6db5",address:{city:"Atlanta",country:"USA",state:"Georgia",street:"1865  Pleasant Hill Road"},avatar:"/assets/avatars/avatar-fran-perez.png",createdAt:(0,l.Z)((0,c.Z)(A,1),2).getTime(),email:"fran.perez@devias.io",name:"Fran Perez",phone:"712-351-5711"},{id:"5e887b7602bdbc4dbb234b27",address:{city:"North Canton",country:"USA",state:"Ohio",street:"4894  Lakeland Park Drive"},avatar:"/assets/avatars/avatar-jie-yan-song.png",createdAt:(0,l.Z)((0,c.Z)(A,4),2).getTime(),email:"jie.yan.song@devias.io",name:"Jie Yan Song",phone:"770-635-2682"},{id:"5e86809283e28b96d2d38537",address:{city:"Madrid",country:"Spain",name:"Anika Visser",street:"4158  Hedge Street"},avatar:"/assets/avatars/avatar-anika-visser.png",createdAt:(0,l.Z)((0,c.Z)(A,11),2).getTime(),email:"anika.visser@devias.io",name:"Anika Visser",phone:"908-691-3242"},{id:"5e86805e2bafd54f66cc95c3",address:{city:"San Diego",country:"USA",state:"California",street:"75247"},avatar:"/assets/avatars/avatar-miron-vitold.png",createdAt:(0,l.Z)((0,c.Z)(A,7),3).getTime(),email:"miron.vitold@devias.io",name:"Miron Vitold",phone:"972-333-4106"},{id:"5e887a1fbefd7938eea9c981",address:{city:"Berkeley",country:"USA",state:"California",street:"317 Angus Road"},avatar:"/assets/avatars/avatar-penjani-inyene.png",createdAt:(0,l.Z)((0,c.Z)(A,5),4).getTime(),email:"penjani.inyene@devias.io",name:"Penjani Inyene",phone:"858-602-3409"},{id:"5e887d0b3d090c1b8f162003",address:{city:"Carson City",country:"USA",state:"Nevada",street:"2188  Armbrester Drive"},avatar:"/assets/avatars/avatar-omar-darboe.png",createdAt:(0,l.Z)((0,c.Z)(A,15),4).getTime(),email:"omar.darobe@devias.io",name:"Omar Darobe",phone:"415-907-2647"},{id:"5e88792be2d4cfb4bf0971d9",address:{city:"Los Angeles",country:"USA",state:"California",street:"1798  Hickory Ridge Drive"},avatar:"/assets/avatars/avatar-siegbert-gottfried.png",createdAt:(0,l.Z)((0,c.Z)(A,2),5).getTime(),email:"siegbert.gottfried@devias.io",name:"Siegbert Gottfried",phone:"702-661-1654"},{id:"5e8877da9a65442b11551975",address:{city:"Murray",country:"USA",state:"Utah",street:"3934  Wildrose Lane"},avatar:"/assets/avatars/avatar-iulia-albu.png",createdAt:(0,l.Z)((0,c.Z)(A,8),6).getTime(),email:"iulia.albu@devias.io",name:"Iulia Albu",phone:"313-812-8947"},{id:"5e8680e60cba5019c5ca6fda",address:{city:"Salt Lake City",country:"USA",state:"Utah",street:"368 Lamberts Branch Road"},avatar:"/assets/avatars/avatar-nasimiyu-danai.png",createdAt:(0,l.Z)((0,c.Z)(A,1),9).getTime(),email:"nasimiyu.danai@devias.io",name:"Nasimiyu Danai",phone:"801-301-7894"}],Z=(e,t)=>(0,s.useMemo)(()=>(0,O.i)(w,e,t),[e,t]),D=e=>(0,s.useMemo)(()=>e.map(e=>e.id),[e]),_=()=>{let[e,t]=(0,s.useState)(0),[r,a]=(0,s.useState)(5),o=Z(e,r),l=D(o),c=(0,v.c)(l),d=(0,s.useCallback)((e,r)=>{t(r)},[]),u=(0,s.useCallback)(e=>{a(e.target.value)},[]);return(0,n.jsxs)(n.Fragment,{children:[n.jsx(i(),{children:n.jsx("title",{children:"Monthly Sales"})}),n.jsx(h(),{component:"main",sx:{flexGrow:1,py:8},children:n.jsx(g(),{maxWidth:"xl",children:(0,n.jsxs)(x.default,{spacing:3,children:[n.jsx(x.default,{direction:"row",justifyContent:"space-between",spacing:4,children:n.jsx(x.default,{spacing:1,children:n.jsx(b(),{variant:"h4",children:"MONTHLY SALES REPORT"})})}),n.jsx(S.d,{count:w.length,items:o,onDeselectAll:c.handleDeselectAll,onDeselectOne:c.handleDeselectOne,onPageChange:d,onRowsPerPageChange:u,onSelectAll:c.handleSelectAll,onSelectOne:c.handleSelectOne,page:e,rowsPerPage:r,selected:c.selected})]})})})]})};_.getLayout=e=>n.jsx(j.A,{children:e});let T=_;a()}catch(e){a(e)}})},68668:(e,t,r)=>{r.a(e,async(e,t)=>{try{r(20997);var a=r(521);r(16689);var n=e([a]);a=(n.then?(await n)():n)[0],t()}catch(e){t(e)}})},21458:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{d:()=>T});var n=r(20997),s=r(580),o=r.n(s),i=r(16689),l=r(99648),c=r(96043),d=r(11163),u=r(55695),p=r.n(u),m=r(81573),h=r.n(m),f=r(9285),g=r.n(f),x=r(33500),y=r.n(x),b=r(25836),v=r.n(b),j=r(34904),S=r.n(j),P=r(53037),O=r.n(P),C=r(5399),A=r.n(C),w=r(77557),Z=r.n(w),D=r(36397),_=e([l]);l=(_.then?(await _)():_)[0];let T=e=>{let{count:t=0,items:r=[],onDeselectAll:a,onDeselectOne:s,onPageChange:o=()=>{},onRowsPerPageChange:u,onSelectAll:m,onSelectOne:f,page:x=0,rowsPerPage:b=0,selected:j=[]}=e;j.length>0&&(j.length,r.length),r.length>0&&(j.length,r.length);let[P,C]=(0,i.useState)([]),[w,_]=(0,i.useState)({}),[T,q]=(0,i.useState)(""),[M,I]=(0,i.useState)(!1),k=(0,d.useRouter)(),N=async e=>{let t=localStorage.getItem("access_token");if(t)try{I(!0);let r=await l.default.get(`${c._}/api/data/monthly/`,{headers:{Authorization:`Bearer ${t}`},params:{month:e}});C(r.data.daily_totals),_(r.data.monthly_totals),I(!1)}catch(e){console.error("Error fetching monthly report:",e.response?e.response.data:e.message),I(!1)}else console.error("No token found")};(0,i.useEffect)(()=>{let e=new URLSearchParams(k.search).get("month");e&&(q(e),N(e))},[k.search]);let L=e=>Number(e.total_sales)-Number(e.total_expenses),U=e=>{let t=Number(e)||0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"TZS",minimumFractionDigits:2,maximumFractionDigits:2}).format(t).replace("TZS","Tsh")};return(0,n.jsxs)(n.Fragment,{children:[n.jsx(p(),{spacing:3,sx:{p:2,alignItems:"center",display:"flex",flexDirection:"row"},children:(0,n.jsxs)(h(),{children:[n.jsx("label",{htmlFor:"month-select",children:"Select Month: "}),n.jsx("input",{type:"month",id:"month-select",value:T,onChange:e=>{let t=e.target.value;q(t),N(t),k.push(`/salesmonthly?month=${t}`)}})]})}),M?n.jsx("p",{children:"Loading..."}):n.jsx("div",{children:P.length>0?(0,n.jsxs)(n.Fragment,{children:[n.jsx(h(),{children:n.jsx(p(),{children:n.jsx(D.L,{children:n.jsx(g(),{sx:{minWidth:800},children:(0,n.jsxs)(y(),{children:[(0,n.jsxs)(v(),{children:[n.jsx(S(),{variant:"h6",sx:{p:2,alignItems:"center",display:"flex",flexDirection:"row"},children:"Sales"}),(0,n.jsxs)(O(),{children:[n.jsx(A(),{children:"Date"}),n.jsx(A(),{children:"TOTAL DAILY PRICE"}),n.jsx(A(),{children:"TOTAL DAILY EXPENSES"}),n.jsx(A(),{children:"TOTAL DAILY PROFIT"})]})]}),n.jsx(Z(),{children:P.map(e=>(0,n.jsxs)(O(),{children:[n.jsx(A(),{children:e.date}),n.jsx(A(),{children:U(e.total_sales)}),n.jsx(A(),{children:U(e.total_expenses)}),n.jsx(A(),{children:U(L(e))})]}))})]})})})})}),n.jsx(h(),{children:n.jsx(D.L,{children:n.jsx(g(),{sx:{minWidth:800},children:(0,n.jsxs)(y(),{children:[(0,n.jsxs)(v(),{children:[n.jsx(S(),{variant:"h6",sx:{p:2,alignItems:"center",display:"flex",flexDirection:"row"},children:"Monthly Totals"}),(0,n.jsxs)(O(),{children:[n.jsx(A(),{children:"TOTAL MONTHLY PRICE"}),n.jsx(A(),{children:"TOTAL MONTHLY EXPENSES"}),n.jsx(A(),{children:"TOTAL MONTHLY PROFIT"})]})]}),n.jsx(Z(),{children:(0,n.jsxs)(O(),{children:[n.jsx(A(),{children:U(w.total_sales)}),n.jsx(A(),{children:U(w.total_expenses)}),n.jsx(A(),{children:U(w.profit)})]})})]})})})})]}):n.jsx("p",{children:"No data available for the selected month."})})]})};T.propTypes={count:o().number,items:o().array,onDeselectAll:o().func,onDeselectOne:o().func,onPageChange:o().func,onRowsPerPageChange:o().func,onSelectAll:o().func,onSelectOne:o().func,page:o().number,rowsPerPage:o().number,selected:o().array},a()}catch(e){a(e)}})},93477:(e,t,r)=>{r.d(t,{i:()=>a});function a(e,t,r){return e.slice(t*r,t*r+r)}},63013:e=>{e.exports=require("@mui/base")},27123:e=>{e.exports=require("@mui/base/ClassNameGenerator")},57483:e=>{e.exports=require("@mui/base/FocusTrap")},84683:e=>{e.exports=require("@mui/base/Popper")},48951:e=>{e.exports=require("@mui/base/Portal")},29295:e=>{e.exports=require("@mui/base/composeClasses")},75194:e=>{e.exports=require("@mui/base/unstable_useModal")},35412:e=>{e.exports=require("@mui/base/useBadge")},75574:e=>{e.exports=require("@mui/material/colors")},18442:e=>{e.exports=require("@mui/material/styles")},97986:e=>{e.exports=require("@mui/system")},90657:e=>{e.exports=require("@mui/utils")},44046:e=>{e.exports=require("@mui/x-date-pickers/AdapterDateFns")},85753:e=>{e.exports=require("@mui/x-date-pickers/LocalizationProvider")},68103:e=>{e.exports=require("clsx")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},25528:e=>{e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},40968:e=>{e.exports=require("next/head")},30808:e=>{e.exports=require("nprogress")},580:e=>{e.exports=require("prop-types")},16689:e=>{e.exports=require("react")},66405:e=>{e.exports=require("react-dom")},1469:e=>{e.exports=require("react-is")},84466:e=>{e.exports=require("react-transition-group")},20997:e=>{e.exports=require("react/jsx-runtime")},94172:e=>{e.exports=require("simplebar-react")},8440:e=>{e.exports=import("@emotion/cache")},53139:e=>{e.exports=import("@emotion/react")},730:e=>{e.exports=import("@emotion/server/create-instance")},58370:e=>{e.exports=import("@heroicons/react/24/solid/ArrowDownOnSquareIcon")},90111:e=>{e.exports=import("@heroicons/react/24/solid/ArrowTopRightOnSquareIcon")},34281:e=>{e.exports=import("@heroicons/react/24/solid/ArrowUpOnSquareIcon")},42506:e=>{e.exports=import("@heroicons/react/24/solid/Bars3Icon")},15856:e=>{e.exports=import("@heroicons/react/24/solid/BellIcon")},85123:e=>{e.exports=import("@heroicons/react/24/solid/ChartBarIcon")},59510:e=>{e.exports=import("@heroicons/react/24/solid/ChevronUpDownIcon")},79573:e=>{e.exports=import("@heroicons/react/24/solid/CogIcon")},71386:e=>{e.exports=import("@heroicons/react/24/solid/CurrencyDollarIcon")},63004:e=>{e.exports=import("@heroicons/react/24/solid/LockClosedIcon")},521:e=>{e.exports=import("@heroicons/react/24/solid/MagnifyingGlassIcon")},98385:e=>{e.exports=import("@heroicons/react/24/solid/PlusIcon")},38707:e=>{e.exports=import("@heroicons/react/24/solid/ShoppingBagIcon")},78356:e=>{e.exports=import("@heroicons/react/24/solid/UserIcon")},98916:e=>{e.exports=import("@heroicons/react/24/solid/UserPlusIcon")},81950:e=>{e.exports=import("@heroicons/react/24/solid/UsersIcon")},58067:e=>{e.exports=import("@heroicons/react/24/solid/XCircleIcon")},99648:e=>{e.exports=import("axios")},57147:e=>{e.exports=require("fs")},71017:e=>{e.exports=require("path")},12781:e=>{e.exports=require("stream")},59796:e=>{e.exports=require("zlib")},71002:(e,t,r)=>{r.d(t,{Z:()=>a});function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[491,123,859,628,243,277,577,651,891],()=>r(60537));module.exports=a})();