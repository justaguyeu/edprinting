"use strict";(()=>{var e={};e.id=262,e.ids=[262,888],e.modules={79543:(e,t,r)=>{var a=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(10434)),o=a(r(7071)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(16689));a(r(580));var i=a(r(68103)),l=r(29295),c=a(r(86549)),u=a(r(76610)),d=r(7692),p=r(20997);let m=["className","component"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}let x=e=>{let{classes:t}=e;return(0,l.unstable_composeClasses)({root:["root"]},d.getCardContentUtilityClass,t)},h=(0,c.default)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),g=s.forwardRef(function(e,t){let r=(0,u.default)({props:e,name:"MuiCardContent"}),{className:a,component:s="div"}=r,l=(0,o.default)(r,m),c=(0,n.default)({},r,{component:s}),d=x(c);return(0,p.jsx)(h,(0,n.default)({as:s,className:(0,i.default)(d.root,a),ownerState:c,ref:t},l))});t.default=g},7692:(e,t,r)=>{var a=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getCardContentUtilityClass=function(e){return(0,o.default)("MuiCardContent",e)};var n=r(90657),o=a(r(25380));let s=(0,n.unstable_generateUtilityClasses)("MuiCardContent",["root"]);t.default=s},81573:(e,t,r)=>{var a=r(64836);Object.defineProperty(t,"__esModule",{value:!0});var n={cardContentClasses:!0};Object.defineProperty(t,"cardContentClasses",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=a(r(79543)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(7692));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}Object.keys(s).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e))&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))})},12716:(e,t,r)=>{var a=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(r(580));var n=r(19238),o=r(59006);let s=(0,n.createGrid)({createStyledComponent:(0,o.styled)("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(e,t)=>t.root}),componentName:"MuiGrid2",useThemeProps:e=>(0,o.useThemeProps)({props:e,name:"MuiGrid2"})});t.default=s},39759:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},12449:(e,t,r)=>{var a=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getGrid2UtilityClass=function(e){return(0,o.default)("MuiGrid2",e)};var n=r(90657),o=a(r(25380));let s=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],i=(0,n.unstable_generateUtilityClasses)("MuiGrid2",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map(e=>`spacing-xs-${e}`),...["column-reverse","column","row-reverse","row"].map(e=>`direction-xs-${e}`),...["nowrap","wrap-reverse","wrap"].map(e=>`wrap-xs-${e}`),...s.map(e=>`grid-xs-${e}`),...s.map(e=>`grid-sm-${e}`),...s.map(e=>`grid-md-${e}`),...s.map(e=>`grid-lg-${e}`),...s.map(e=>`grid-xl-${e}`)]);t.default=i},57453:(e,t,r)=>{var a=r(64836);Object.defineProperty(t,"__esModule",{value:!0});var n={grid2Classes:!0};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"grid2Classes",{enumerable:!0,get:function(){return i.default}});var o=a(r(12716)),s=r(39759);Object.keys(s).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e))&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))});var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(12449));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}Object.keys(i).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e))&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))})},18348:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>x,default:()=>d,getServerSideProps:()=>f,getStaticPaths:()=>m,getStaticProps:()=>p,reportWebVitals:()=>h,routeModule:()=>v,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>b,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>_,unstable_getStaticProps:()=>g});var n=r(87093),o=r(35244),s=r(1323),i=r(23),l=r(4651),c=r(39256),u=e([i,l,c]);[i,l,c]=u.then?(await u)():u;let d=(0,s.l)(c,"default"),p=(0,s.l)(c,"getStaticProps"),m=(0,s.l)(c,"getStaticPaths"),f=(0,s.l)(c,"getServerSideProps"),x=(0,s.l)(c,"config"),h=(0,s.l)(c,"reportWebVitals"),g=(0,s.l)(c,"unstable_getStaticProps"),_=(0,s.l)(c,"unstable_getStaticPaths"),y=(0,s.l)(c,"unstable_getStaticParams"),j=(0,s.l)(c,"unstable_getServerProps"),b=(0,s.l)(c,"unstable_getServerSideProps"),v=new n.PagesRouteModule({definition:{kind:o.x.PAGES,page:"/stockrestock",pathname:"/stockrestock",bundlePath:"",filename:""},components:{App:l.default,Document:i.default},userland:c});a()}catch(e){a(e)}})},39256:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>D});var n=r(20997),o=r(40968),s=r.n(o),i=r(34281),l=r(58370),c=r(16689),u=r(45261),d=r(99648),p=r(96043),m=r(98385),f=r(9285),x=r.n(f),h=r(34643),g=r.n(h),_=r(46591),y=r(34904),j=r.n(y),b=r(57453),v=r.n(b),q=r(81573),P=r.n(q),O=r(7988),S=r.n(O),C=r(86096),k=r.n(C),w=r(62307),M=e([i,l,u,d,m,w]);[i,l,u,d,m,w]=M.then?(await M)():M;let I=()=>{let[e,t]=(0,c.useState)([]),[r,a]=(0,c.useState)([]),[o,i]=(0,c.useState)([]),[l,m]=(0,c.useState)(""),[f,h]=(0,c.useState)({date:"",item_name:"",quantity:""}),[y,b]=(0,c.useState)({date:"",item_name:"",area_in_square_meters:""});(0,c.useEffect)(()=>{(async()=>{let e=localStorage.getItem("access_token");if(e)try{let r=await d.default.get(`${p._}/api/data/`,{headers:{Authorization:`Bearer ${e}`}});t(r.data)}catch(e){console.error("Error fetching data:",e.response?e.response.data:e.message)}else console.error("No token found")})()},[]),(0,c.useEffect)(()=>{(async()=>{let e=localStorage.getItem("access_token");if(e)try{let t=await d.default.get(`${p._}/api/stock/`,{headers:{Authorization:`Bearer ${e}`}});a(t.data)}catch(e){console.error("Error fetching stock data:",e.response?e.response.data:e.message)}})()},[]),(0,c.useEffect)(()=>{(async()=>{let e=localStorage.getItem("access_token");if(e)try{let t=await d.default.get(`${p._}/api/stock2/`,{headers:{Authorization:`Bearer ${e}`}});i(t.data)}catch(e){console.error("Error fetching stock data:",e.response?e.response.data:e.message)}})()},[]),(0,c.useEffect)(()=>{if(f.item_name){let e=r.find(e=>e.name===f.item_name);e&&h(t=>({...t,total_price:e.price_per_unit*f.quantity||""}))}},[f.item_name,f.quantity,r]),(0,c.useEffect)(()=>{if(y.item_name){let e=o.find(e=>e.stock_name===y.item_name);e&&b(t=>({...t,total_price:e.price_per_unit*y.area_in_square_meters||""}))}},[y.item_name,y.area_in_square_meters,o]);let q=async r=>{r.preventDefault();let a=localStorage.getItem("access_token");if(a)try{let r=await d.default.post(`${p._}/api/stock/`,f,{headers:{Authorization:`Bearer ${a}`}});t([...e,r.data]),h({date:"",item_name:"",quantity:""}),m(r.data.message)}catch(e){console.error("Data submission failed:",e.response?e.response.data:e.message)}else console.error("No token found")},O=async r=>{r.preventDefault();let a=localStorage.getItem("access_token");if(a)try{let r=await d.default.post(`${p._}/api/stock2/`,y,{headers:{Authorization:`Bearer ${a}`}});t([...e,r.data]),b({date:"",item_name:"",area_in_square_meters:""}),m(r.data.message)}catch(e){console.error("Data submission failed:",e.response?e.response.data:e.message)}else console.error("No token found")};(0,c.useEffect)(()=>{if(l){let e=setTimeout(()=>{m("")},5e3);return()=>clearTimeout(e)}},[l]);let C=e=>{let{name:t,value:r}=e.target;h({...f,[t]:"quantity"===t||"total_price"===t||"expenses"===t?parseFloat(r)||"":r})},w=e=>{let{name:t,value:r}=e.target;b({...y,[t]:"area_in_square_meters"===t||"total_price"===t||"expenses"===t?parseFloat(r)||"":r})};return(0,n.jsxs)(n.Fragment,{children:[n.jsx(s(),{children:n.jsx("title",{children:"Restock "})}),n.jsx(x(),{component:"main",sx:{flexGrow:1,py:8},children:n.jsx(g(),{maxWidth:"xl",children:(0,n.jsxs)(_.default,{spacing:3,children:[n.jsx(_.default,{direction:"row",justifyContent:"space-between",spacing:4,children:n.jsx(_.default,{spacing:1,children:n.jsx(j(),{variant:"h4",children:"ADD STOCK"})})}),(0,n.jsxs)(v(),{container:!0,spacing:3,sx:{p:2,alignItems:"center",display:"flex",flexDirection:"column"},children:[n.jsx(P(),{}),(0,n.jsxs)("div",{className:"form-container4",children:[(0,n.jsxs)("form",{onSubmit:q,children:[n.jsx("h3",{children:"ADD STOCK"}),(0,n.jsxs)(P(),{children:[(0,n.jsxs)(_.default,{spacing:3,sx:{maxWidth:400},children:[(0,n.jsxs)("select",{name:"item_name",value:f.item_name,onChange:C,required:!0,children:[n.jsx("option",{value:"",children:"Choose Stock"}),r.map((e,t)=>n.jsx("option",{value:e.name,children:e.name},t))]}),n.jsx(S(),{fullWidth:!0,label:" Quantity",type:"number",name:"quantity",value:f.quantity,onChange:C,required:!0}),n.jsx("input",{type:"date",name:"date",value:f.date,onChange:C,required:!0}),n.jsx(k(),{variant:"contained",type:"submit",children:"RESTOCK"})]})," "]})," "]}),(0,n.jsxs)("form",{onSubmit:O,children:[n.jsx("h3",{children:"ADD STOCK(BANNER & STICKER)"}),(0,n.jsxs)(P(),{children:[(0,n.jsxs)(_.default,{spacing:3,sx:{maxWidth:400},children:[(0,n.jsxs)("select",{name:"item_name",value:y.item_name,onChange:w,required:!0,children:[n.jsx("option",{value:"",children:"Choose Stock"}),o.map((e,t)=>n.jsx("option",{value:e.stock_name,children:e.stock_name},t))]}),n.jsx(S(),{fullWidth:!0,label:"Quantity",type:"number",name:"area_in_square_meters",value:y.area_in_square_meters,onChange:w,required:!0}),n.jsx("input",{type:"date",name:"date",value:y.date,onChange:w,required:!0}),n.jsx(k(),{variant:"contained",type:"submit",children:"RESTOCK"})]})," "]})]})]}),n.jsx("div",{children:l&&n.jsx("div",{className:"success-message",children:n.jsx("p",{children:l})})})]}),n.jsx(u.d,{})]})})})]})};I.getLayout=e=>n.jsx(w.A,{children:e});let D=I;a()}catch(e){a(e)}})},45261:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{d:()=>k});var n=r(20997),o=r(580),s=r.n(o),i=r(16689),l=r(99648),c=r(96043),u=r(81573),d=r.n(u),p=r(55695),m=r.n(p),f=r(9285),x=r.n(f),h=r(33500),g=r.n(h),_=r(25836),y=r.n(_),j=r(53037),b=r.n(j),v=r(5399),q=r.n(v),P=r(77557),O=r.n(P),S=r(36397),C=e([l]);l=(C.then?(await C)():C)[0];let k=e=>{let{count:t=0,items:r=[],onDeselectAll:a,onDeselectOne:o,onPageChange:s=()=>{},onRowsPerPageChange:u,onSelectAll:p,onSelectOne:f,page:h=0,rowsPerPage:_=0,selected:j=[]}=e,[v,P]=(0,i.useState)(!1),[C,k]=(0,i.useState)(""),[w,M]=(0,i.useState)([]);return(0,i.useEffect)(()=>{(async()=>{let e=localStorage.getItem("access_token");if(e)try{P(!0);let t=await l.default.get(`${c._}/api/stock/report/`,{headers:{Authorization:`Bearer ${e}`}}),r=await l.default.get(`${c._}/api/stock/report2/`,{headers:{Authorization:`Bearer ${e}`}}),a=[...t.data.map(e=>({name:e.item_name,quantity:e.total_quantity,quantity_used:e.quantity_used,remaining_stock:e.remaining_stock})),...r.data.map(e=>({name:e.item_name,quantity:`${e.total_quantity} m\xb2`,quantity_used:`${e.quantity_used} m\xb2`,remaining_stock:`${e.remaining_stock} m\xb2`}))];0===a.length?(M([]),setNoStockMessage("No stock data available.")):(M(a),setNoStockMessage("")),P(!1)}catch(e){console.error("Error fetching stock data:",e.response?e.response.data:e.message),P(!1)}})()},[]),n.jsx(n.Fragment,{children:n.jsx(d(),{children:n.jsx(m(),{children:n.jsx(S.L,{children:n.jsx(x(),{sx:{minWidth:800},children:(0,n.jsxs)(g(),{children:[n.jsx(y(),{children:(0,n.jsxs)(b(),{children:[n.jsx(q(),{children:"STOCK NAME"}),n.jsx(q(),{children:"QUANTITY/(m\xb2)"}),n.jsx(q(),{children:"USED STOCK/(M\xb2)"}),n.jsx(q(),{children:"REMAINED STOCK/(M\xb2)"})]})}),n.jsx(O(),{children:w.map(e=>(0,n.jsxs)(b(),{children:[n.jsx(q(),{children:e.name}),n.jsx(q(),{children:e.quantity}),n.jsx(q(),{children:e.quantity_used}),n.jsx(q(),{children:e.remaining_stock})]}))})]})})})})})})};k.propTypes={count:s().number,items:s().array,onDeselectAll:s().func,onDeselectOne:s().func,onPageChange:s().func,onRowsPerPageChange:s().func,onSelectAll:s().func,onSelectOne:s().func,page:s().number,rowsPerPage:s().number,selected:s().array},a()}catch(e){a(e)}})},63013:e=>{e.exports=require("@mui/base")},27123:e=>{e.exports=require("@mui/base/ClassNameGenerator")},57483:e=>{e.exports=require("@mui/base/FocusTrap")},84683:e=>{e.exports=require("@mui/base/Popper")},48951:e=>{e.exports=require("@mui/base/Portal")},29295:e=>{e.exports=require("@mui/base/composeClasses")},75194:e=>{e.exports=require("@mui/base/unstable_useModal")},35412:e=>{e.exports=require("@mui/base/useBadge")},79799:e=>{e.exports=require("@mui/base/utils")},75574:e=>{e.exports=require("@mui/material/colors")},18442:e=>{e.exports=require("@mui/material/styles")},97986:e=>{e.exports=require("@mui/system")},19238:e=>{e.exports=require("@mui/system/Unstable_Grid")},90657:e=>{e.exports=require("@mui/utils")},44046:e=>{e.exports=require("@mui/x-date-pickers/AdapterDateFns")},85753:e=>{e.exports=require("@mui/x-date-pickers/LocalizationProvider")},68103:e=>{e.exports=require("clsx")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},25528:e=>{e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},40968:e=>{e.exports=require("next/head")},30808:e=>{e.exports=require("nprogress")},580:e=>{e.exports=require("prop-types")},16689:e=>{e.exports=require("react")},66405:e=>{e.exports=require("react-dom")},1469:e=>{e.exports=require("react-is")},84466:e=>{e.exports=require("react-transition-group")},20997:e=>{e.exports=require("react/jsx-runtime")},94172:e=>{e.exports=require("simplebar-react")},8440:e=>{e.exports=import("@emotion/cache")},53139:e=>{e.exports=import("@emotion/react")},730:e=>{e.exports=import("@emotion/server/create-instance")},58370:e=>{e.exports=import("@heroicons/react/24/solid/ArrowDownOnSquareIcon")},90111:e=>{e.exports=import("@heroicons/react/24/solid/ArrowTopRightOnSquareIcon")},34281:e=>{e.exports=import("@heroicons/react/24/solid/ArrowUpOnSquareIcon")},42506:e=>{e.exports=import("@heroicons/react/24/solid/Bars3Icon")},15856:e=>{e.exports=import("@heroicons/react/24/solid/BellIcon")},85123:e=>{e.exports=import("@heroicons/react/24/solid/ChartBarIcon")},59510:e=>{e.exports=import("@heroicons/react/24/solid/ChevronUpDownIcon")},79573:e=>{e.exports=import("@heroicons/react/24/solid/CogIcon")},71386:e=>{e.exports=import("@heroicons/react/24/solid/CurrencyDollarIcon")},63004:e=>{e.exports=import("@heroicons/react/24/solid/LockClosedIcon")},521:e=>{e.exports=import("@heroicons/react/24/solid/MagnifyingGlassIcon")},98385:e=>{e.exports=import("@heroicons/react/24/solid/PlusIcon")},38707:e=>{e.exports=import("@heroicons/react/24/solid/ShoppingBagIcon")},78356:e=>{e.exports=import("@heroicons/react/24/solid/UserIcon")},98916:e=>{e.exports=import("@heroicons/react/24/solid/UserPlusIcon")},81950:e=>{e.exports=import("@heroicons/react/24/solid/UsersIcon")},58067:e=>{e.exports=import("@heroicons/react/24/solid/XCircleIcon")},99648:e=>{e.exports=import("axios")},57147:e=>{e.exports=require("fs")},71017:e=>{e.exports=require("path")},12781:e=>{e.exports=require("stream")},59796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[491,123,859,628,243,277,577,96,127,988,651,891],()=>r(18348));module.exports=a})();